{% import "components/clock.html" as clock %}
{% import "components/music_player.html" as musicPlayer %}
{% import "components/calendar.html" as calendar %}
{% import "components/setting.html" as setting %}
{% import "components/avatar.html" as avatar %}

{% extends 'base.html' %}


{% block link %}
    <link rel="stylesheet" href="../static/css/home.css">
{% endblock %}

{% block content %}
    <div class="container night w-screen h-screen relative overflow-hidden px-10 pt-10">

        <div class="absolute -bottom-20 left-0" style="z-index: 1;">
            <img src="../static/img/grass.png" alt="" class="">
        </div>

        <div class="" style="z-index: 20; ">
            <div class="h-[40vh] flex justify-between items-start">
                <div class="w-1/3 text-left">
                    <h4 class="text-7xl mb-3">{{ user['name'].split()[0]}}</h4>
                    <!-- Progress Bar Container -->
                    <div class="w-64  rounded-lg shadow-md">
                        <div class="w-full h-5 bg-gray-200 rounded-full overflow-hidden shadow-inner">
                            <!-- Progress Bar Fill -->
                            <div id="progressBg" class="h-full w-[75%] rounded-full bg-lime bg-level">
                            </div>
                        </div>
                    </div>
                    <p class="mt-3 text-3xl">Lv. <span id="LevelBg"></span></p>
                </div>

                <!-- Clock -->
                {{ clock.clock_display() }}

                <!-- setting -->
                {{ setting.setting_display() }}
            </div>

            <div class="h-[50vh] flex justify-between items-end relative" >
                <!-- calendar -->
                {{ calendar.calendar_display() }}

                <!-- Avatar -->
                 <div id="avatar-box" style="z-index: 2;" class="w-1/3 avatar ">
                    <!-- <img class="w-3/4 mx-auto" src="../static/img/avartars/Nobita_03_new.png" alt=""> -->
                 </div>
                 
                <!-- music player -->
                {{ musicPlayer.music_player_display() }}
            </div>
        </div>


        <!-- Modal Music-->
        {{ musicPlayer.music_player_modal() }}

        <!-- modal for choose avatar -->
         {{ avatar.avatar_modal()}}

         <!-- modal for result exp -->
        {{ avatar.reuslt_modal()}}
        
        <!-- <script src=""></script> -->
        <script>
            let userLevel = "{{ user['level'] | safe }}";
            let userExp = "{{ user['exp'] | safe }}";
            let userAvatar = "{{ user['avatar'] | safe }}";
        </script>
        <script src="{{ url_for('static', filename='../static/js/script.js') }}"></script>
    </div>
{% endblock %}